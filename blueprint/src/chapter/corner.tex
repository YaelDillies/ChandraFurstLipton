\chapter{Multidimensional corners}

Let $G$ be a finite abelian group whose size we will denote $N$. Let $d \ge 2$ a natural number.

\begin{definition}[Multidimensional corner]
  \label{def:multicorner}
  % \uses{}
  % \lean{}
  % \leanok

  A {\bf multidimensional corner} in $d$ dimensions is a tuple of the form $(x, x + ce_1, \dots, x + ce_d)$ for some $x : G^d$ and $c : G$, where $ce_i$ is the vector of all zeroes except in position $i$ where it is $c$. Such a corner is said to be {\bf trivial} if $c = 0$.
\end{definition}

\begin{definition}[Corner-free number]
  \label{def:corner-free-num}
  \uses{def:multicorner}
  % \lean{}
  % \leanok

  The [\bf $d$-dimensional corner-free] number of $G$, denoted $r_d(G)$ is the size of the largest set $A$ in $G^d$ such that $A$ doesn't contain a non-trivial corner.
\end{definition}

\begin{definition}[Corner coloring number]
  \label{def:corner-color-num}
  \uses{def:multicorner}
  % \lean{}
  % \leanok

  The {\bf $d$-dimensional corner coloring number} of $G$, denoted $c_d(G)$, is the smallest number of colors one needs to color $G^d$ such that no non-trivial $d$-dimensional corner is monochromatic.
\end{definition}

\begin{lemma}[Lower bound on the corner coloring number]
  \label{lem:corner-num-lower}
  \uses{def:corner-free-num, def:corner-color-num}
  % \lean{}
  % \leanok

  $$r_d(G) c_d(G) \ge N^d$$
\end{lemma}
\begin{proof}
  % \uses{}
  % \leanok

  Find a coloring of $G^d$ in $c_d(G)$ colors without non-trivial monochromatic $d$-dimensional corners. The coloring partitions $G^d$ into sets of size at most $r_d(G)$.
\end{proof}

\begin{lemma}[Upper bound on the corner coloring number]
  \label{lem:corner-num-upper}
  \uses{def:corner-free-num, def:corner-color-num}
  % \lean{}
  % \leanok

  $$r_d(G) c_d(G) \le 2d N^d \log N$$
\end{lemma}
\begin{proof}
  % \uses{}
  % \leanok

  Find $A$ a corner-free set of density $\alpha = r_d(G)/N^d$. If we pick $m > d\log N/\alpha$ translates of $A$ randomly, then the expected number of elements not covered by any translate is
  $$N^d(1 - \alpha)^m \le \exp(dN - m\alpha) < 1$$
  Namely, there is some collection of $m$ translates of $A$ that covers all of $G^d$. Since being corner-free is translation-invariant, this cover by translates gives a coloring in $m$ colors without non-trivial monochromatic corners. So
  $$c_d(G) \le m \le 2d \log N/\alpha = 2d N^d \log N/r_d(G)$$
  if we pick eg $m = \floor{d\log N/\alpha} + 1$.
\end{proof}
